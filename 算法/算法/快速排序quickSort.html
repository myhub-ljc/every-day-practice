<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=, initial-scale=1.0" />
    <title>秃头的科比</title>
  </head>
  <body>
    <div>我是直接生成的代码片段</div>
    <script>
      /**
       * 快速排序的思路：
       *      首先分区并挑选一个元素作为基准，所有比基准小的元素放在基准的前面，否则相反
       *      最后使用递归再次分区
       */

      Array.prototype.quickSort = function () {
        const mainCode = (arr) => {
          //递归结束点
          if (arr.length === 1) {
            return arr;
          }
          //先创建左右两个空的数组
          const left = [];
          const right = [];
          //我们就选第一个元素作为基准吧
          const mid = arr[0];
          //将基准与每一个元素进行比较：
          for (let i = 1; i < arr.length; i++) {
            if (arr[i] > mid) {
              //比基准大的元素push进右边
              right.push(arr[i]);
            } else {
              //比基准小的元素push进左边
              left.push(arr[i]);
            }
          }
          //最终递归的再去对左右两边进行分区的同时并且将三者合并在一起
          return [...mainCode(left), mid, ...mainCode(right)];
        };

        const res = mainCode(this);
        res.forEach((n, i) => {
          this[i] = n;
        });
      };

      const arr = [1, 3, 2, 5, 4];
      arr.quickSort();
    </script>
  </body>
</html>
